═══════════════════════════════════════════════════════════════════════════
  WARBAND NEXUS - Version 2.1.1 (18.02.2026)
═══════════════════════════════════════════════════════════════════════════

NEW FEATURES
────────────
• Achievement Popup: Click linked achievement criteria to view details
  with Track and +Add buttons
• Planned Indicator: Yellow "(Planned)" suffix on items, mounts, pets,
  toys, and achievements in your Plans
• Show Planned Filter: New checkbox in browse view to show only planned items
• Difficulty-Aware Try Counter: Try counts now respect drop difficulty
  (e.g., Fyrakk mount only on Heroic+)

IMPROVEMENTS
────────────
• Professions: Concentration tracking now correctly identifies each profession independently
• Chat Routing: Reputation and currency notifications now respect per-panel chat settings
• Chat Filter: Non-destructive message suppression via ChatFrame_AddMessageEventFilter
• Chat Routing: Uses frame:IsEventRegistered() for accurate per-panel message delivery
• Plans UI: Masonry layout for tighter card packing and fewer visual gaps
• Plans UI: Completed criteria are no longer interactive (Track/+Add disabled)
• Tooltips: Green checkmark icon for collected items (replaces "Collected" text)
• Try Counter: Crackling Shard zone-wide tracking with 17+ Isle of Dorn rares
• Try Counter: Miscellaneous Mechanica yield display (3 mounts, 6 pets) in tooltips
• Try Counter: Expanded difficulty mapping (Normal, 10N, 25N, LFR)
• Data Integrity: Standardized character key normalization across all modules
• Plans: Duplicate plan detection prevents adding the same item twice
• Currency: Stricter tracking filter prevents untracked characters from appearing
• Midnight 12.0: Secret value guards on difficulty matching and reputation parsing
• Taint Safety: Added issecretvalue guard to reputation message parser

BUG FIXES
─────────
• Fixed try counter incrementing on wrong difficulty (e.g., Fyrakk on Normal)
• Fixed plans not appearing immediately after +Add from browse or popups
• Fixed achievement popup not closing when clicking outside
• Fixed notifications not firing for vendor toys and bag-detected pets
• Fixed notifications not firing for repeatable item drops
• Fixed card layout gaps on first load in Plans tab
• Fixed concentration data being overwritten between professions
  (e.g., Alchemy showing Inscription values)
• Fixed concentration swapping when opening different profession windows
• Fixed reputation/currency notifications not appearing in non-default chat panels
• Fixed chat filter destructively modifying user chat panel configuration
• Fixed CHAT_MSG_MONEY being incorrectly filtered by the addon
• Fixed taint error on CHAT_MSG_COMBAT_FACTION_CHANGE during instanced combat
  (secret string value in Midnight 12.0)
• Fixed event queue crash when handler or args were nil
• Fixed PvE cache clear crash when database was not yet initialized
• Fixed card layout division by zero when parent frame had no width

CLEANUP
───────
• Removed unused Gold Transfer UI code and related locale keys
• Removed unused scan status UI elements

═══════════════════════════════════════════════════════════════════════════
  WARBAND NEXUS - Version 2.1.0 (15.02.2026)
═══════════════════════════════════════════════════════════════════════════

NEW FEATURES
────────────
• Professions Tab
  - Track profession skills, concentration, knowledge, and specialization trees
  - View all characters' professions in a unified table
  - Characters without professions are now properly displayed

• Recipe Companion Window
  - Browse recipes with reagent availability per character
  - Quality tier breakdown (Q1/Q2/Q3) for reagents
  - Warband Bank reagent sourcing

• Loading Overlay
  - Visual progress indicator during data synchronization
  - Shows step-by-step progress of background operations
  - Appears automatically on first login and after tracking confirmation

• Persistent Notification Deduplication
  - Collectible notifications no longer repeat across sessions
  - Already-owned collectibles are pre-seeded to prevent false positives
  - Non-farmable items (quest rewards, vendor items) are automatically suppressed

IMPROVEMENTS
────────────
• Performance
  - Significantly reduced login FPS drops with time-budgeted initialization
  - Removed Encounter Journal scan to eliminate frame spikes
  - Staggered initialization with coroutine-based batching
  - Reputation cache scan delay reduced for faster data population

• PvE System
  - Alt character data now correctly persists across character switches
  - Legacy PvE data migration properly imports per-character data
  - Great Vault data saved on logout to prevent async data loss

• Currency System
  - Hierarchical header display matching Blizzard's native UI
  - "Legacy" main header with old expansion currencies
  - "Season" headers nested inside expansion headers
  - Faster initial currency data population (1.5s vs 5s delay)

• Character Tracking
  - Data collection fully gated behind tracking confirmation
  - No API calls or debug logs before user makes tracking decision
  - Played time request only for tracked characters
  - Profession recharge timer only for tracked characters

• Notifications
  - Suppressed alerts for non-farmable items with zero attempts
  - Notifications require item to be in CollectibleSourceDB or have manual attempts
  - Permanent deduplication layer prevents recurring false positives

• Settings Window
  - Frame reuse prevents orphaned frame leaks
  - Main window position preserved when Settings is closed
  - Track Item DB section with add/remove custom entries

• Localization
  - Comprehensive localization pass for all user-facing strings
  - Command help strings, welcome messages, and dialog texts localized
  - Recipe Companion strings localized
  - 11 languages continue to be supported

• Slash Commands
  - Cleaned up debug commands for production build
  - Profiler command preserved for performance analysis
  - Help command shows all available commands with descriptions

BUG FIXES
─────────
• Fixed recurring loot notification for already-owned collectibles on every login
• Fixed ESC menu becoming disabled after deleting a character
• Fixed main window anchor shifting when Settings is closed with ESC
• Fixed "Most Played" displaying characters incorrectly
• Fixed characters without professions not showing in Professions tab
• Fixed currency data appearing incomplete on first login
• Fixed alt character PvE data not visible after switching characters
• Fixed Great Vault data not showing for alt characters (character key mismatch)
• Fixed realm names displaying without spaces (e.g. "TwistingNether" → "Twisting Nether")
• Fixed tooltip collectible info not showing on first hover (item data pre-caching)
• Fixed Great Vault data not showing for current character (sync processing + cooldown bypass)

═══════════════════════════════════════════════════════════════════════════
  WARBAND NEXUS - Version 2.0.0
═══════════════════════════════════════════════════════════════════════════

MAJOR RELEASE
─────────────
Complete addon overhaul with new architecture, UI, and features.

NEW FEATURES
────────────
• Plans System
  - Create and track collection plans (mounts, pets, toys, achievements)
  - Plan cards with progress tracking and completion notifications
  - Floating Plans Tracker window (/wn plan)

• Try Counter System
  - Automatic kill/attempt tracking for rare drops
  - CollectibleSourceDB with NPC, encounter, container, and fishing sources
  - Chat notifications showing attempt count on collectible obtain
  - Full diagnostic tools for verification

• Notification System
  - Modal notifications for collectible obtains (mount, pet, toy, achievement, etc.)
  - Screen flash effects and sound alerts
  - Event-driven notification pipeline
  - Vault reminder notifications

• Chat Message Service
  - Real-time reputation gain notifications with progress bars
  - Currency gain notifications with rarity-colored links
  - FIFO message queue for smooth output

• PvE Data Tracking
  - Great Vault progress tracking across characters
  - Mythic+ and raid vault slot monitoring
  - Daily quest completion tracking

• Transmog Manager
  - Cross-character transmog collection tracking
  - Slot-based collection progress

• Enhanced Character Management
  - Character tracking enable/disable per character
  - Automatic character data cleanup (configurable staleness threshold)
  - Character-specific vs account-wide data separation

IMPROVEMENTS
────────────
• Complete UI Rewrite
  - Modern card-based layout with shared widget factory
  - Collapsible headers with smooth expand/collapse
  - Search functionality across all tabs (reputation, currency, items, etc.)
  - Responsive layout adapting to window size
  - Centralized font management via FontManager
  - Frame pool factory for optimized widget reuse

• Reputation System v2
  - Per-character reputation storage (not just account-wide)
  - Account-wide vs character-based reputation separation in UI
  - Paragon reputation support with cycle tracking
  - Friendship reputation with named rank display
  - Renown factions with max level detection
  - Real-time reputation gain tracking via Snapshot-Diff
  - Expansion header grouping with icons

• Currency System v2
  - Warband (account-wide) vs character currencies separated
  - Currency category grouping
  - Real-time currency gain detection

• Database Architecture
  - Migration service for seamless upgrades
  - Database optimizer for storage efficiency
  - Database cleanup for stale data removal
  - Compact storage format reducing memory usage

• Internationalization
  - 11 locale files (enUS, deDE, esES, esMX, frFR, itIT, koKR, ptBR, ruRU, zhCN, zhTW)
  - 830+ localization keys

• Performance
  - Event-driven architecture (no polling)
  - AceBucket debouncing for rapid events
  - Lazy loading and on-demand data fetching
  - Search result caching

BUG FIXES
─────────
• Fixed reputation progress calculation for all faction types
• Fixed paragon detection for renown factions (per-character vs account-wide)
• Fixed friendship reputation max level display
• Fixed currency max quantity display
• Improved error handling throughout all modules

═══════════════════════════════════════════════════════════════════════════
  WARBAND NEXUS - Version 1.0.8 (28.12.2025)
═══════════════════════════════════════════════════════════════════════════

NEW FEATURES
────────────
• Enhanced Reputation UI
  - Renown and Friendship rewards display with icons
  - Icon slider showing current and nearby level rewards
  - Color-coded icons: unlocked (color) vs locked (grayscale)
  - Scroll arrows to navigate through all reward levels
  - Current level highlighted with gold border
  - Tooltips showing reward details (Item, Currency, Mount, etc.)

• Improved Progress Bars
  - Progress values now displayed inside the bar with shadow
  - Increased bar height for better visibility
  - Maxed reputations show green bar with "Maxed" text
  - Bar positioned closer to right edge for more space

• Icon Tooltips
  - Checkmark (✓): Shows reputation type (friendship/renown/reputation)
  - Paragon icon (!): Shows reward availability status
  - Reward icons: Show level, unlock status, and reward type

• Reputation Display Improvements
  - Friendship factions: Show rank name (e.g., "Mastermind")
  - Renown factions: Show "Renown X" format (no max if unknown)
  - Tooltip format: Rank + Paragon Progress (pink) when applicable
  - Removed redundant "Progress:" lines from tooltips

IMPROVEMENTS
────────────
• TWW 11.2.7 API compatibility improvements
  - Correct max level detection using GetRenownRewardsForLevel
  - Fixed max level display for all factions
  - Improved Friendship reputation rank tracking

BUG FIXES
─────────
• Fixed "attempt to compare number with string" error in ReputationUI
• Fixed max renown level detection for factions
• Fixed Friendship reputation display (named ranks vs numeric levels)
