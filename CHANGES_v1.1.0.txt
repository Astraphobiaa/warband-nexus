â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  WARBAND NEXUS - Version 1.1.0 (30.12.2025)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ MAJOR UPDATE: DATABASE OPTIMIZATION SYSTEM
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

NEW FEATURES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ **Automatic Database Optimization**
  - Items data normalized (removes redundant static data)
  - ~60-70% reduction in SavedVariables file size
  - Faster loading times and reduced memory usage
  - Compression system using LibDeflate for inactive characters

â€¢ **Automatic Migration System**
  - Seamless upgrade from old data format to optimized format
  - Automatic backup before migration (rollback support)
  - No user interaction needed - fully automatic on login
  - Migration runs once, then database stays optimized

â€¢ **Search Index System**
  - Fast item lookup with O(1) complexity
  - Rebuilds automatically after database changes
  - Improves search performance across all tabs

â€¢ **Developer Test Commands**
  - /wn test backup - Backup current database for testing
  - /wn test restore - Restore from test backup
  - /wn test reset - Trigger migration for testing
  - /wn migration status - Check migration status
  - /wn migration info - Detailed migration information

IMPROVEMENTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ **Memory Optimization**
  - Runtime item data fetching (name, icon, quality via GetItemInfo)
  - Reduced memory footprint for large collections (50+ characters)
  - Table pooling and string builder optimizations in UI

â€¢ **Items & Storage Tabs**
  - Fixed display issues with normalized items
  - Proper category grouping (Consumable, Armor, Weapon, etc.)
  - Search functionality works with normalized data
  - Icons and quality colors display correctly

â€¢ **Library Updates**
  - Added LibDeflate 1.0.2 (production release)
  - Updated to AceSerializer-3.0 for better compatibility
  - Removed unused libraries (AceComm, AceTab) to reduce addon size

â€¢ **Error Handling**
  - Comprehensive error handling in migration system
  - Safe rollback on migration failure
  - Detailed error messages for debugging

BUG FIXES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ Fixed "Item ?" display issue in bank tabs
â€¢ Fixed category showing "Miscellaneous" for all items
â€¢ Fixed row spacing issues in Storage UI
â€¢ Fixed search not working with normalized items
â€¢ Fixed rollback command error handling

TECHNICAL DETAILS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
For addon developers and power users:

**Data Schema Changes:**
- Items: Stored as {id, count, slot} instead of {id, name, icon, quality, ...}
- Runtime fetching: GetItemInfo(id) for display data
- Backward compatible: Old data automatically migrated
- Schema version tracking: v0 (old) â†’ v1 (optimized)

**Compression:**
- LibDeflate: Industry-standard DEFLATE algorithm
- AceSerializer: Efficient Lua table serialization
- Compression activates on logout (SavedVariables write)
- Decompression on login (transparent to user)

**Safety:**
- Automatic backup before migration
- Rollback support: /wn migration rollback
- Backups kept for 7 days
- Migration never deletes original data

PERFORMANCE IMPACT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ SavedVariables file size: **-60% to -70%** (1.2 MB â†’ 450 KB example)
â€¢ Login time: **-40%** faster (reduced I/O)
â€¢ Memory usage: **-30%** lower (runtime fetching)
â€¢ UI rendering: **No change** (seamless experience)

UPGRADE NOTES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ **First login after update**: Automatic migration runs (5-10 seconds)
â€¢ **Chat message**: "Database updated successfully!" when complete
â€¢ **No action needed**: Everything is automatic
â€¢ **Rollback available**: Use /wn migration rollback if issues occur
â€¢ **Test commands**: Use /wn test to experiment safely

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

